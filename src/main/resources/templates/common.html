<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<body>
    <div th:fragment="headlink">
        <title th:text="#{common.company}">Company</title>
        <link rel="SHORTCUT ICON" th:href="@{/images/favicon.ico}" type="image/x-icon">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    </div>

    <div th:fragment="header">
        <nav class="navbar navbar-light bg-light">
            <a class="navbar-brand" href="/">
                <img th:src="@{/images/logo.png}">
            </a>
            <span class="navbar-text" th:text="#{common.tagline}"/>
        </nav>
    </div>

    <div th:fragment="main_nav">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item active">
                        <a class="nav-link" href="/"><span class="sr-only" th:text="#{main.nav.home}">Home</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" th:text="#{main.nav.products}">Products</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/login" th:text="#{main.nav.cabinet}">Cabinet</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/?lang=en"><img src="/images/en.png" alt="#{lang.en}"></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/?lang=ru"><img src="/images/ru.png" alt="#{lang.ru}"></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/?lang=ua"><img src="/images/ua.png" alt="#{lang.ua}"></a>
                    </li>
                </ul>
            </div>
        </nav>
    </div>

    <div th:fragment="admin_nav">
        <nav class="navbar navbar-expand navbar-dark bg-primary">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#adminNav" aria-controls="adminNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="adminNav">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" th:text="#{admin.nav.products}" href="#" id="navbarDropdownProducts" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Products
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdownProducts">
                            <a class="dropdown-item" th:href="@{/products/services/new}" th:text="#{admin.nav.products.services.new}">New service</a>
                            <a class="dropdown-item" th:href="@{/products/rates/new}" th:text="#{admin.nav.products.rates.new}">New rate</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" th:href="@{/products/services}" th:text="#{admin.nav.products.services.show}">Show services</a>
                            <a class="dropdown-item" th:href="@{/products/rates}" th:text="#{admin.nav.products.rates.show}">Show rates</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" th:text="#{admin.nav.users}" href="#" id="navbarDropdownUsers" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Users
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdownUsers">
                            <a class="dropdown-item" th:href="@{/users/new}" th:text="#{admin.nav.users.new}">New user</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" th:href="@{/users}" th:text="#{admin.nav.users.show}">Show users</a>
                        </div>
                    </li>
                </ul>
            </div>
            <div>
                <form class="form-inline my-2 my-lg-0" th:action="@{/logout}" method="post">
                    <button class="btn btn-light" type="submit" value="Logout" th:text="#{admin.nav.logout}">Logout</button>
                </form>
            </div>
        </nav>
    </div>

    <div th:fragment="cabinet_nav">
        <nav class="navbar navbar-expand navbar-dark bg-primary">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#cabinetNav" aria-controls="cabinetNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="cabinetNav">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/cabinet/userinfo" th:text="#{cabinet.nav.user}">User info</a>
                    </li>
                </ul>
            </div>
            <div>
                <form class="form-inline my-2 my-lg-0" th:action="@{/logout}" method="post">
                    <button class="btn btn-light" type="submit" value="Logout" th:text="#{cabinet.nav.logout}">Logout</button>
                </form>
            </div>
        </nav>
    </div>
</body>
</html>
